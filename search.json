[{"path":"https://bennettoxford.github.io/opencodecounts/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 opencodecounts authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE. Contains information NHS England, licensed current version Open Government Licence.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/articles/available-datasets.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"Available datasets in opencodecounts","text":"","code":"# Load opencodecounts package library(opencodecounts)"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/available-datasets.html","id":"snomed-ct-code-usage-in-primary-care-in-england","dir":"Articles","previous_headings":"Example","what":"SNOMED CT code usage in primary care in England","title":"Available datasets in opencodecounts","text":"selection full dataset published NHS Digital, data pre-processing see /data-raw/snomed_code_usage.R.","code":"# Return SNOMED code usage data snomed_usage #> # A tibble: 1,523,967 × 7 #>    start_date end_date   snomed_code      description      usage active_at_start #>    <date>     <date>     <chr>            <chr>            <int> <lgl>           #>  1 2023-08-01 2024-07-31 279991000000102  Short message … 4.41e8 TRUE            #>  2 2023-08-01 2024-07-31 184103008        Patient teleph… 1.91e8 TRUE            #>  3 2023-08-01 2024-07-31 428481002        Patient mobile… 1.16e8 TRUE            #>  4 2023-08-01 2024-07-31 423876004        Clinical docum… 7.81e7 TRUE            #>  5 2023-08-01 2024-07-31 72313002         Systolic arter… 6.87e7 TRUE            #>  6 2023-08-01 2024-07-31 1091811000000102 Diastolic arte… 6.87e7 TRUE            #>  7 2023-08-01 2024-07-31 1000731000000107 Serum creatini… 4.82e7 TRUE            #>  8 2023-08-01 2024-07-31 60621009         Body mass inde… 4.65e7 TRUE            #>  9 2023-08-01 2024-07-31 1000661000000107 Serum sodium l… 4.63e7 TRUE            #> 10 2023-08-01 2024-07-31 1000651000000109 Serum potassiu… 4.62e7 TRUE            #> # ℹ 1,523,957 more rows #> # ℹ 1 more variable: active_at_end <lgl>"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/available-datasets.html","id":"icd-10-code-usage-in-secondary-care-in-england","dir":"Articles","previous_headings":"Example","what":"ICD-10 code usage in secondary care in England","title":"Available datasets in opencodecounts","text":"total annual count Finished Consultant Episodes (FCE) listing 4-character ICD-10 code either primary secondary diagnosis position Hospital Episode Statistics England. selection full dataset published NHS Digital, data pre-processing see /data-raw/icd10_usage.R.","code":"# Return ICD-10 code usage data icd10_usage #> # A tibble: 136,136 × 5 #>    start_date end_date   icd10_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 A000       Cholera due to Vibrio cholerae 01, bi…     2 #>  2 2023-04-01 2024-03-31 A009       Cholera, unspecified                      40 #>  3 2023-04-01 2024-03-31 A010       Typhoid fever                            884 #>  4 2023-04-01 2024-03-31 A011       Paratyphoid fever A                      139 #>  5 2023-04-01 2024-03-31 A012       Paratyphoid fever B                       13 #>  6 2023-04-01 2024-03-31 A013       Paratyphoid fever C                        2 #>  7 2023-04-01 2024-03-31 A014       Paratyphoid fever, unspecified            68 #>  8 2023-04-01 2024-03-31 A020       Salmonella enteritis                    2165 #>  9 2023-04-01 2024-03-31 A021       Salmonella sepsis                        319 #> 10 2023-04-01 2024-03-31 A022       Localized salmonella infections           82 #> # ℹ 136,126 more rows"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/available-datasets.html","id":"opcs-4-code-usage-in-secondary-care-in-england","dir":"Articles","previous_headings":"Example","what":"OPCS-4 code Usage in secondary care in England","title":"Available datasets in opencodecounts","text":"total annual count instance 4-character OPCS-4 code listed across primary secondary procedure positions Finished Consultant Episodes (FCE) Hospital Episode Statistics England. selection full dataset published NHS Digital, data pre-processing see /data-raw/opcs4_usage.R.","code":"# Return OPCS-4 code usage data opcs4_usage #> # A tibble: 107,379 × 5 #>    start_date end_date   opcs4_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 A011       Hemispherectomy                            7 #>  2 2023-04-01 2024-03-31 A012       Total lobectomy of brain                  36 #>  3 2023-04-01 2024-03-31 A013       Partial lobectomy of brain               134 #>  4 2023-04-01 2024-03-31 A018       Other specified major excision of tis…    27 #>  5 2023-04-01 2024-03-31 A019       Unspecified major excision of tissue …     3 #>  6 2023-04-01 2024-03-31 A021       Excision of lesion of tissue of front…  1399 #>  7 2023-04-01 2024-03-31 A022       Excision of lesion of tissue of tempo…   971 #>  8 2023-04-01 2024-03-31 A023       Excision of lesion of tissue of parie…   704 #>  9 2023-04-01 2024-03-31 A024       Excision of lesion of tissue of occip…   260 #> 10 2023-04-01 2024-03-31 A025       Excision of lesion of tissue of cereb…   604 #> # ℹ 107,369 more rows"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/extract-snomedct-sem-tag.html","id":"worked-example","dir":"Articles","previous_headings":"","what":"Worked example","title":"Extract semantic tags from SNOMED CT descriptions","text":"example ’re looking Depression screening codes (DEPSCRN_COD) NHS Primary Care Domain Reference Set Portal:","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/articles/extract-snomedct-sem-tag.html","id":"setup","dir":"Articles","previous_headings":"Worked example","what":"Setup","title":"Extract semantic tags from SNOMED CT descriptions","text":"","code":"# Load packages library(opencodecounts) library(dplyr) library(stringr) library(ggplot2) library(scales) library(gt) # Load code extract semantic tag depscrn_cod <- get_codelist(   \"nhsd-primary-care-domain-refsets/depscrn_cod/20250627\" )  # Get data for both codelists and extract semantic tag depscrn_cod_usage <- snomed_usage |>   filter(snomed_code %in% c(depscrn_cod$code)) |>   mutate(     semantic_tag = extract_semantic_tag(description),     semantic_tag = str_to_sentence(semantic_tag),     description_short = strip_semantic_tag(description),   )"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/extract-snomedct-sem-tag.html","id":"table-with-most-used-codes","dir":"Articles","previous_headings":"Worked example","what":"Table with most used codes","title":"Extract semantic tags from SNOMED CT descriptions","text":"","code":"# Calculate sum by code for entire time period df_tab_top10_depscrn_cod <- depscrn_cod_usage |>   group_by(snomed_code, description_short, semantic_tag) |>   summarise(total_usage = sum(usage), .groups = 'drop') |>   mutate(ratio_usage = total_usage / sum(total_usage)) |>    slice_max(order_by = total_usage, n = 10)  # Create table df_tab_top10_depscrn_cod |>   group_by(semantic_tag) |>   gt() |>   cols_label(     snomed_code = \"SNOMED code\",     description_short = \"Description\",     total_usage = \"Usage\",     ratio_usage = \"%\"   ) |>   tab_style(     style = cell_text(weight = \"bold\"),     locations = cells_column_labels()   ) |>   tab_style(     style = cell_text(font = \"Courier New\"),     locations = cells_body(columns = snomed_code)   ) |>   cols_align(align = \"left\", columns = snomed_code) |>   fmt_number(total_usage, decimals = 0) |>   fmt_percent(ratio_usage, decimals = 2)"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/extract-snomedct-sem-tag.html","id":"figure-showing-trends-over-time-by-semantic-tag","dir":"Articles","previous_headings":"Worked example","what":"Figure showing trends over time by semantic tag","title":"Extract semantic tags from SNOMED CT descriptions","text":"","code":"# Calculate yearly sum by semantic tag df_fig_sem_tag_depscrn_cod <- depscrn_cod_usage |>   group_by(start_date, semantic_tag) |>   summarise(total_usage = sum(usage), .groups = 'drop')  # Create figure df_fig_sem_tag_depscrn_cod |>   ggplot(     aes(       y = total_usage,       x = start_date,       colour = semantic_tag,       shape = semantic_tag     )   ) +   geom_line(alpha = 0.2) +   geom_point(size = 2) +   labs(title = NULL, x = NULL, y = NULL, colour = NULL, shape = NULL) +   scale_x_date(date_breaks = \"1 year\", labels = label_date_short()) +   scale_y_continuous(labels = label_number(accuracy = 1), limits = c(0, NA)) +   theme(legend.position = \"bottom\") +   scale_colour_viridis_d(end = .8)"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/how-to-use-R-pkg.html","id":"load-codelist","dir":"Articles","previous_headings":"","what":"Load codelist","title":"How to use the R package","text":"","code":"# Import the codelist from OpenCodelists.org icd10_xix_codelist <- get_codelist(\"opensafely/icd-10-chapter-xix/4dce479b/\")  # Return the first 10 rows of the codelist as_tibble(icd10_xix_codelist) #> # A tibble: 1,483 × 2 #>    code    term                                                     #>    <chr>   <chr>                                                    #>  1 S00     Superficial injury of head                               #>  2 S00-S09 Injuries to the head                                     #>  3 S000    Superficial injury of scalp                              #>  4 S001    Contusion of eyelid and periocular area                  #>  5 S002    Other superficial injuries of eyelid and periocular area #>  6 S003    Superficial injury of nose                               #>  7 S004    Superficial injury of ear                                #>  8 S005    Superficial injury of lip and oral cavity                #>  9 S007    Multiple superficial injuries of head                    #> 10 S008    Superficial injury of other parts of head                #> # ℹ 1,473 more rows"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/how-to-use-R-pkg.html","id":"filter-code-usage-data","dir":"Articles","previous_headings":"","what":"Filter code usage data","title":"How to use the R package","text":"","code":"# Filter ICD-10 code usage to only include #  1. codes from icd10_xix_codelist #  2. code usage data from 2014 onwards df_icd10_xix <- icd10_usage |>   filter(icd10_code %in% icd10_xix_codelist$code) |>   filter(start_date >= \"2014-03-31\")"},{"path":"https://bennettoxford.github.io/opencodecounts/articles/how-to-use-R-pkg.html","id":"calculate-codes-with-most-usage","dir":"Articles","previous_headings":"","what":"Calculate codes with most usage","title":"How to use the R package","text":"","code":"# Select 3 most frequently used codes top3_icd10_xix_codes <- df_icd10_xix |>   group_by(icd10_code, description) |>   summarise(total_usage = sum(usage)) |>   ungroup() |>   slice_max(total_usage, n = 3) |>   pull(icd10_code) #> `summarise()` has grouped output by 'icd10_code'. You can override using the #> `.groups` argument."},{"path":"https://bennettoxford.github.io/opencodecounts/articles/how-to-use-R-pkg.html","id":"visualise-trends-over-time","dir":"Articles","previous_headings":"","what":"Visualise trends over time","title":"How to use the R package","text":"","code":"plot_top3_icd10_xix <- df_icd10_xix |>   filter(icd10_code %in% top3_icd10_xix_codes) |>   ggplot(aes(     x = end_date,     y = usage,     colour = paste0(description, \" (\", icd10_code, \")\"),     shape = paste0(description, \" (\", icd10_code, \")\"))   ) +   geom_line(alpha = .3) +   geom_point() +   scale_y_continuous(labels = scales::label_number(accuracy = 1)) +   scale_x_date() +   scale_colour_viridis_d(end = .7) +   labs(     x = NULL, y = \"Usage count\",     colour = NULL, shape = NULL   )  plot_top3_icd10_xix"},{"path":"https://bennettoxford.github.io/opencodecounts/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Milan Wiedemann. Author, maintainer. Arina . Tamborska. Author. Rose Higgins. Author. Viveck Kingsley. Author. Louis Fisher. Author. Lola Ojedele. Author. Kunle Oreagba. Author. Wellcome Trust. Funder.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wiedemann M, Tamborska , Higgins R, Kingsley V, Fisher L, Ojedele L, Oreagba K (2025). opencodecounts: Clinical Code Usage England. R package version 0.0.2, https://github.com/bennettoxford/opencodecounts.","code":"@Manual{,   title = {opencodecounts: Clinical Code Usage in England},   author = {Milan Wiedemann and Arina A. Tamborska and Rose Higgins and Viveck Kingsley and Louis Fisher and Lola Ojedele and Kunle Oreagba},   year = {2025},   note = {R package version 0.0.2},   url = {https://github.com/bennettoxford/opencodecounts}, }"},{"path":"https://bennettoxford.github.io/opencodecounts/index.html","id":"opencodecounts","dir":"","previous_headings":"","what":"Clinical Code Usage in England","title":"Clinical Code Usage in England","text":"opencodecounts R package provides easy access yearly summaries clinical code usage primary secondary care England. package makes NHS England’s published datasets available R interactive online tool, covering SNOMED-CT codes primary care ICD-10/OPCS-4 codes secondary care.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Clinical Code Usage in England","text":"can install opencodecounts package :","code":"remotes::install_github(\"bennettoxford/opencodecounts\")"},{"path":"https://bennettoxford.github.io/opencodecounts/index.html","id":"how-to-guides","dir":"","previous_headings":"","what":"How-to guides","title":"Clinical Code Usage in England","text":"use R package Available datasets opencodecounts Extract semantic tags SNOMED CT descriptions","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/index.html","id":"data-source","dir":"","previous_headings":"","what":"Data source","title":"Clinical Code Usage in England","text":"original data available NHS Digital : SNOMED Code Usage Primary Care ICD-10 OPCS-4 Code Usage Inpatient Secondary Care","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/Codelist.html","id":null,"dir":"Reference","previous_headings":"","what":"Codelist Note that the ","title":"Codelist Note that the ","text":"Codelist Note \"@usage\" argument explicitly coded suppress error. likely due S7 class, revisit future.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/Codelist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Codelist Note that the ","text":"","code":"Codelist(.data = list(), row.names = NULL, coding_system = character(0), full_slug = character(0))"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/Codelist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Codelist Note that the ","text":".data Initial data row.names Row names","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/Codelist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Codelist Note that the ","text":"New instance class Codelist","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/Codelist.html","id":"properties","dir":"Reference","previous_headings":"","what":"Properties","title":"Codelist Note that the ","text":"coding_system String, specifying coding system codelist. full_slug slug codelist OpenCodelists.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/complete_usage_gaps_with_zeros.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function fill usage for missing years — complete_usage_gaps_with_zeros","title":"Helper function fill usage for missing years — complete_usage_gaps_with_zeros","text":"fills gaps existing start end dates code extent date range code.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/complete_usage_gaps_with_zeros.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function fill usage for missing years — complete_usage_gaps_with_zeros","text":"","code":"complete_usage_gaps_with_zeros(data)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/datatable_codelist.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to create codelist / selected codes table — datatable_codelist","title":"Helper function to create codelist / selected codes table — datatable_codelist","text":"Helper function create codelist / selected codes table","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/datatable_codelist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to create codelist / selected codes table — datatable_codelist","text":"","code":"datatable_codelist(data, data_desc)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/datatable_usage.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to create code usage table — datatable_usage","title":"Helper function to create code usage table — datatable_usage","text":"Helper function create code usage table","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/datatable_usage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to create code usage table — datatable_usage","text":"","code":"datatable_usage(data)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/extract_semantic_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract semantic tag from SNOMED CT description — extract_semantic_tag","title":"Extract semantic tag from SNOMED CT description — extract_semantic_tag","text":"Add description","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/extract_semantic_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract semantic tag from SNOMED CT description — extract_semantic_tag","text":"","code":"extract_semantic_tag(string)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/extract_semantic_tag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract semantic tag from SNOMED CT description — extract_semantic_tag","text":"string String, description SNOMED CT codes","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/extract_semantic_tag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract semantic tag from SNOMED CT description — extract_semantic_tag","text":"","code":"extract_semantic_tag(\"Blood Pressure (observable entity)\") #> [1] \"observable entity\""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/fix_encoding.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix encoding problems — fix_encoding","title":"Fix encoding problems — fix_encoding","text":"Fix encoding problems","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/fix_encoding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix encoding problems — fix_encoding","text":"","code":"fix_encoding(string, print_replacement_dict = FALSE)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist.html","id":null,"dir":"Reference","previous_headings":"","what":"Get codelist from OpenCodelists — get_codelist","title":"Get codelist from OpenCodelists — get_codelist","text":"Get codelist OpenCodelists","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get codelist from OpenCodelists — get_codelist","text":"","code":"get_codelist(codelist_slug)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get codelist from OpenCodelists — get_codelist","text":"codelist_slug String, specifying slug codelist. naming convention codelist slug follows structure: <codelist-id> followed / <version-id>. Note version ID sequence 8 characters. codelists may also version tag form date (YYYY-MM-DD) version number (e.g., v1.2) can used place version ID.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get codelist from OpenCodelists — get_codelist","text":"","code":"# Get the 'cpeptide_cod' codelist from OpenCodelists.org cpeptide_cod <- get_codelist(\"nhsd-primary-care-domain-refsets/cpeptide_cod/20200812/\")  # Return all codes cpeptide_cod$code #> [1] \"1106701000000107\" \"1106721000000103\" \"271227006\"        \"401124003\"        #> [5] \"88705004\"         \"999351000000102\"   # Return 'coding_system' of codelist cpeptide_cod@coding_system #> [1] \"snomedct\"  # Return 'full_slug' of codelist cpeptide_cod@full_slug #> [1] \"nhsd-primary-care-domain-refsets/cpeptide_cod/20200812\""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist_organisation.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to get the organisation for a codelist from OpenCodelists This is important to use the API from OpenCodelists — get_codelist_organisation","title":"Helper function to get the organisation for a codelist from OpenCodelists This is important to use the API from OpenCodelists — get_codelist_organisation","text":"Helper function get organisation codelist OpenCodelists important use API OpenCodelists","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codelist_organisation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to get the organisation for a codelist from OpenCodelists This is important to use the API from OpenCodelists — get_codelist_organisation","text":"","code":"get_codelist_organisation(codelist_slug)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codes_with_encoding_problems.html","id":null,"dir":"Reference","previous_headings":"","what":"Find codes with encoding problems — get_codes_with_encoding_problems","title":"Find codes with encoding problems — get_codes_with_encoding_problems","text":"Find codes encoding problems","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codes_with_encoding_problems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find codes with encoding problems — get_codes_with_encoding_problems","text":"","code":"get_codes_with_encoding_problems(code_usage_data, code_column)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codes_with_multiple_desc.html","id":null,"dir":"Reference","previous_headings":"","what":"Find codes with multiple description — get_codes_with_multiple_desc","title":"Find codes with multiple description — get_codes_with_multiple_desc","text":"Find codes multiple description","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/get_codes_with_multiple_desc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find codes with multiple description — get_codes_with_multiple_desc","text":"","code":"get_codes_with_multiple_desc(code_usage_data, code_column)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/icd10_usage.html","id":null,"dir":"Reference","previous_headings":"","what":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","title":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","text":"Yearly summary 4-character ICD-10 code usage 1st April 2013 31st March 2024. code usage represents annual count episodes record given ICD-10 code primary secondary position. Restricted codes annual usage published removed. Yearly summary 4-character ICD-10 code usage 1st April 2013 31st March 2024. code usage represents annual count episodes record given ICD-10 code primary secondary position. Restricted codes annual usage published removed.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/icd10_usage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","text":"","code":"icd10_usage"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/icd10_usage.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","text":"data frame 135,951 rows 5 columns: start_date Start date code usage count end_date End date code usage count icd10_code 4-character ICD-10 Code. Note punctuation code removed compatibility OpenCodelists. usage Annual count code usage. description Description ICD-10 Code","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/icd10_usage.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","text":"https://digital.nhs.uk/data--information/publications/statistical/hospital-admitted-patient-care-activity","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/icd10_usage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Yearly ICD-10 Code Usage from Hospital Admitted Patient Care Activity in England — icd10_usage","text":"","code":"# Filter to codes in the ICD-10 Chapter XIX: \"Injury, poisoning...\" # (codes begin with letters \"S\" or \"T\"), with usage > 10,000. # For each of these, select the year with the highest count. icd10_usage |>   dplyr::filter(grepl(\"^[ST]\", icd10_code) & usage > 10000) |>   dplyr::group_by(description) |>   dplyr::slice_max(usage) #> # A tibble: 82 × 5 #> # Groups:   description [82] #>    start_date end_date   icd10_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 T812       Accidental puncture and laceration du… 23982 #>  2 2023-04-01 2024-03-31 T784       Allergy, unspecified                   10214 #>  3 2018-04-01 2019-03-31 T860       Bone-marrow transplant rejection       13927 #>  4 2023-04-01 2024-03-31 T310       Burns involving less than 10% of body… 14410 #>  5 2021-04-01 2022-03-31 S001       Contusion of eyelid and periocular ar… 25842 #>  6 2023-04-01 2024-03-31 S800       Contusion of knee                      11954 #>  7 2023-04-01 2024-03-31 S400       Contusion of shoulder and upper arm    14177 #>  8 2023-04-01 2024-03-31 T813       Disruption of operation wound, not el… 27140 #>  9 2023-04-01 2024-03-31 S324       Fracture of acetabulum                 11339 #> 10 2022-04-01 2023-03-31 S021       Fracture of base of skull              12294 #> # ℹ 72 more rows # Filter to codes present in the CPRD Aurum ICD-10 pregnancy codelist. # This codelist is available in OpenCodelists.org codelist <- read.csv(   \"https://www.opencodelists.org/codelist/opensafely/pregnancy-icd10-aurum/5a7d8d12/download.csv\" ) icd10_usage |>   dplyr::filter(icd10_code %in% codelist$code) #> # A tibble: 5,365 × 5 #>    start_date end_date   icd10_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 F530       Mild mental and behavioural disorders…  4206 #>  2 2023-04-01 2024-03-31 F531       Severe mental and behavioural disorde…   559 #>  3 2023-04-01 2024-03-31 F538       Other mental and behavioural disorder…    17 #>  4 2023-04-01 2024-03-31 F539       Puerperal mental disorder, unspecified   185 #>  5 2023-04-01 2024-03-31 O000       Abdominal pregnancy                       73 #>  6 2023-04-01 2024-03-31 O001       Tubal pregnancy                         9224 #>  7 2023-04-01 2024-03-31 O002       Ovarian pregnancy                        239 #>  8 2023-04-01 2024-03-31 O008       Other ectopic pregnancy                  847 #>  9 2023-04-01 2024-03-31 O009       Ectopic pregnancy, unspecified          1877 #> 10 2023-04-01 2024-03-31 O010       Classical hydatidiform mole              278 #> # ℹ 5,355 more rows # Filter to codes in the ICD-10 Chapter XIX: \"Injury, poisoning...\" # (codes begin with letters \"S\" or \"T\"), with usage > 10,000. # For each of these, select the year with the highest count. icd10_usage |>   dplyr::filter(grepl(\"^[ST]\", icd10_code) & usage > 10000) |>   dplyr::group_by(description) |>   dplyr::slice_max(usage) #> # A tibble: 82 × 5 #> # Groups:   description [82] #>    start_date end_date   icd10_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 T812       Accidental puncture and laceration du… 23982 #>  2 2023-04-01 2024-03-31 T784       Allergy, unspecified                   10214 #>  3 2018-04-01 2019-03-31 T860       Bone-marrow transplant rejection       13927 #>  4 2023-04-01 2024-03-31 T310       Burns involving less than 10% of body… 14410 #>  5 2021-04-01 2022-03-31 S001       Contusion of eyelid and periocular ar… 25842 #>  6 2023-04-01 2024-03-31 S800       Contusion of knee                      11954 #>  7 2023-04-01 2024-03-31 S400       Contusion of shoulder and upper arm    14177 #>  8 2023-04-01 2024-03-31 T813       Disruption of operation wound, not el… 27140 #>  9 2023-04-01 2024-03-31 S324       Fracture of acetabulum                 11339 #> 10 2022-04-01 2023-03-31 S021       Fracture of base of skull              12294 #> # ℹ 72 more rows # Filter to codes present in the CPRD Aurum ICD-10 pregnancy codelist. # This codelist is available in OpenCodelists.org codelist <- read.csv(   \"https://www.opencodelists.org/codelist/opensafely/pregnancy-icd10-aurum/5a7d8d12/download.csv\" ) icd10_usage |>   dplyr::filter(icd10_code %in% codelist$code) #> # A tibble: 5,365 × 5 #>    start_date end_date   icd10_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 F530       Mild mental and behavioural disorders…  4206 #>  2 2023-04-01 2024-03-31 F531       Severe mental and behavioural disorde…   559 #>  3 2023-04-01 2024-03-31 F538       Other mental and behavioural disorder…    17 #>  4 2023-04-01 2024-03-31 F539       Puerperal mental disorder, unspecified   185 #>  5 2023-04-01 2024-03-31 O000       Abdominal pregnancy                       73 #>  6 2023-04-01 2024-03-31 O001       Tubal pregnancy                         9224 #>  7 2023-04-01 2024-03-31 O002       Ovarian pregnancy                        239 #>  8 2023-04-01 2024-03-31 O008       Other ectopic pregnancy                  847 #>  9 2023-04-01 2024-03-31 O009       Ectopic pregnancy, unspecified          1877 #> 10 2023-04-01 2024-03-31 O010       Classical hydatidiform mole              278 #> # ℹ 5,355 more rows"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/opcs4_usage.html","id":null,"dir":"Reference","previous_headings":"","what":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","title":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","text":"Yearly summary 4-character OPCS-4 code usage 1st April 2013 31st March 2024. code usage represents total annual count procedure, recorded across primary secondary procedure positions. Restricted codes annual usage published removed.","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/opcs4_usage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","text":"","code":"opcs4_usage"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/opcs4_usage.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","text":"data frame 107,376 rows 5 columns: start_date Start date code usage count end_date End date code usage count opcs4_code 4-character OPCS-4 code. Note punctuation code removed compatibility OpenCodelists. usage Annual count code usage. description Description OPCS-4 Code","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/opcs4_usage.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","text":"https://digital.nhs.uk/data--information/publications/statistical/hospital-admitted-patient-care-activity","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/opcs4_usage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Yearly OPCS-4 Code Usage from Hospital Admitted Patient Care Activity in England — opcs4_usage","text":"","code":"# Filter to procedures involving \"biopsy\" after March 2020 (note each year runs April - March). opcs4_usage |>   dplyr::filter(grepl(\"biopsy\", description, ignore.case = TRUE) & lubridate::year(end_date) > 2020) #> # A tibble: 1,029 × 5 #>    start_date end_date   opcs4_code description                            usage #>    <date>     <date>     <chr>      <chr>                                  <int> #>  1 2023-04-01 2024-03-31 A041       Open biopsy of lesion of tissue of fr…   210 #>  2 2023-04-01 2024-03-31 A042       Open biopsy of lesion of tissue of te…   121 #>  3 2023-04-01 2024-03-31 A043       Open biopsy of lesion of tissue of pa…   101 #>  4 2023-04-01 2024-03-31 A044       Open biopsy of lesion of tissue of oc…    24 #>  5 2023-04-01 2024-03-31 A045       Open biopsy of lesion of tissue of ce…    35 #>  6 2023-04-01 2024-03-31 A046       Open biopsy of lesion of tissue of br…    21 #>  7 2023-04-01 2024-03-31 A048       Other specified open biopsy of lesion…    75 #>  8 2023-04-01 2024-03-31 A049       Unspecified open biopsy of lesion of …     6 #>  9 2023-04-01 2024-03-31 A081       Biopsy of lesion of tissue of frontal…   294 #> 10 2023-04-01 2024-03-31 A082       Biopsy of lesion of tissue of tempora…   135 #> # ℹ 1,019 more rows"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_individual.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to plot individual code usage — plot_individual","title":"Helper function to plot individual code usage — plot_individual","text":"Helper function plot individual code usage","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_individual.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to plot individual code usage — plot_individual","text":"","code":"plot_individual(data)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_sparkline.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to plot sparkline — plot_sparkline","title":"Helper function to plot sparkline — plot_sparkline","text":"Helper function plot sparkline","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_sparkline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to plot sparkline — plot_sparkline","text":"","code":"plot_sparkline(data)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to plot code usage summary — plot_summary","title":"Helper function to plot code usage summary — plot_summary","text":"Helper function plot code usage summary","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/plot_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to plot code usage summary — plot_summary","text":"","code":"plot_summary(data)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/run_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Run opencodecounts Shiny App locally — run_app","title":"Run opencodecounts Shiny App locally — run_app","text":"Run opencodecounts Shiny App locally","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/run_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run opencodecounts Shiny App locally — run_app","text":"","code":"run_app()"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/snomed_usage.html","id":null,"dir":"Reference","previous_headings":"","what":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","title":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","text":"Yearly summary SNOMED CT code usage 1st August 2011 31st July 2023. variables dataset include:","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/snomed_usage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","text":"","code":"snomed_usage"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/snomed_usage.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","text":"data frame 1,366,513 rows 6 columns: start_date Start date code usage count end_date End date code usage count snomed_code SNOMED Concept ID usage Yearly summary code usage. Note counts rounded nearest 10. Counts 5 displayed 5. active_at_start Specifying whether code active start date. active_at_end Specifying whether code active end date. description Description SNOMED Concept ID","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/snomed_usage.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","text":"https://digital.nhs.uk/data--information/publications/statistical/mi-snomed-code-usage--primary-care","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/snomed_usage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Yearly SNOMED CT Code Usage in Primary Care in England — snomed_usage","text":"","code":"# Filter for code usage records from 2022-08-01 onwards snomed_usage |>   dplyr::filter(start_date >= \"2022-08-1\") #> # A tibble: 306,888 × 7 #>    start_date end_date   snomed_code      description      usage active_at_start #>    <date>     <date>     <chr>            <chr>            <int> <lgl>           #>  1 2023-08-01 2024-07-31 279991000000102  Short message … 4.41e8 TRUE            #>  2 2023-08-01 2024-07-31 184103008        Patient teleph… 1.91e8 TRUE            #>  3 2023-08-01 2024-07-31 428481002        Patient mobile… 1.16e8 TRUE            #>  4 2023-08-01 2024-07-31 423876004        Clinical docum… 7.81e7 TRUE            #>  5 2023-08-01 2024-07-31 72313002         Systolic arter… 6.87e7 TRUE            #>  6 2023-08-01 2024-07-31 1091811000000102 Diastolic arte… 6.87e7 TRUE            #>  7 2023-08-01 2024-07-31 1000731000000107 Serum creatini… 4.82e7 TRUE            #>  8 2023-08-01 2024-07-31 60621009         Body mass inde… 4.65e7 TRUE            #>  9 2023-08-01 2024-07-31 1000661000000107 Serum sodium l… 4.63e7 TRUE            #> 10 2023-08-01 2024-07-31 1000651000000109 Serum potassiu… 4.62e7 TRUE            #> # ℹ 306,878 more rows #> # ℹ 1 more variable: active_at_end <lgl>  # Filter for code usage records from 2022-08-01 onwards # where the description contains the word \"anxiety\" snomed_usage |>   dplyr::filter(start_date >= \"2022-08-1\") |>   dplyr::filter(grepl(\"anxiety\", description, ignore.case = TRUE)) #> # A tibble: 326 × 7 #>    start_date end_date   snomed_code     description       usage active_at_start #>    <date>     <date>     <chr>           <chr>             <int> <lgl>           #>  1 2023-08-01 2024-07-31 231504006       Mixed anxiety a… 2.38e6 TRUE            #>  2 2023-08-01 2024-07-31 197480006       Anxiety disorde… 1.22e6 TRUE            #>  3 2023-08-01 2024-07-31 445455005       Generalized Anx… 1.01e6 TRUE            #>  4 2023-08-01 2024-07-31 198288003       Anxiety state (… 5.23e5 TRUE            #>  5 2023-08-01 2024-07-31 836571000000106 Generalised anx… 5.02e5 TRUE            #>  6 2023-08-01 2024-07-31 48694002        Anxiety (findin… 5.00e5 TRUE            #>  7 2023-08-01 2024-07-31 21897009        Generalized anx… 1.46e5 TRUE            #>  8 2023-08-01 2024-07-31 908501000000101 Anxiety screeni… 8.86e4 TRUE            #>  9 2023-08-01 2024-07-31 286644009       Level of anxiet… 6.72e4 TRUE            #> 10 2023-08-01 2024-07-31 401320004       Hospital Anxiet… 4.42e4 TRUE            #> # ℹ 316 more rows #> # ℹ 1 more variable: active_at_end <lgl>"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/strip_semantic_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"Strip semantic tag from SNOMED CT description — strip_semantic_tag","title":"Strip semantic tag from SNOMED CT description — strip_semantic_tag","text":"Removes semantic tag description","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/strip_semantic_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Strip semantic tag from SNOMED CT description — strip_semantic_tag","text":"","code":"strip_semantic_tag(string)"},{"path":"https://bennettoxford.github.io/opencodecounts/reference/strip_semantic_tag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Strip semantic tag from SNOMED CT description — strip_semantic_tag","text":"string String, description SNOMED CT codes","code":""},{"path":"https://bennettoxford.github.io/opencodecounts/reference/strip_semantic_tag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Strip semantic tag from SNOMED CT description — strip_semantic_tag","text":"","code":"strip_semantic_tag(\"Blood Pressure (observable entity)\") #> [1] \"Blood Pressure\""}]
